{"version":3,"sources":["services/notes.js","components/Form.js","components/Filter.js","components/SinglePerson.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getAll","a","request","axios","get","response","data","create","newObject","post","update","id","put","deletePerson","delete","Form","formHandler","nameHandler","nameValue","numberHandler","numberValue","onSubmit","onChange","value","type","Filter","handler","SinglePerson","person","setPersons","persons","name","number","onClick","window","confirm","noteService","then","arrayWithoutDeletedPerson","filter","p","Persons","map","Notification","message","className","positive","content","App","useState","newName","setNewName","newNumber","setNewNumber","filterName","setFilterName","setMessage","useEffect","initialPersons","sendMessage","setTimeout","personsToShow","toLowerCase","includes","event","target","preventDefault","user","length","userAlreadyExists","newUser","newUserObject","reloadedPersons","catch","e","console","log","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff7756f0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = async () => {\n  const request = axios.get(baseUrl);\n  const response = await request;\n  return response.data;\n}\n\nconst create = async (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  const response = await request;\n  return response.data;\n}\n\nconst update = async (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  const response = await request;\n  return response.data;\n}\n\nconst deletePerson = async (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  const response = await request;\n  return response.data;\n}\n\nexport default { getAll, create, update, deletePerson }","import React from 'react';\n\nexport const Form = ({formHandler, nameHandler, nameValue, numberHandler, numberValue}) => (\n  <form onSubmit={formHandler}>\n    <div>\n      name: <input onChange={nameHandler} value={nameValue}/>\n    </div>\n    <div>\n      number: <input onChange={numberHandler} value={numberValue}/>\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n)","import React from 'react';\n\nexport const Filter = ({handler, value}) => <div>filter shown with <input onChange={handler} value={value}/></div>","import React from 'react';\nimport noteService from '../services/notes';\n\nexport const SinglePerson = ({person, setPersons, persons}) => {\n\n  const handleDelete = () => {\n    if(!window.confirm(`Delete ${person.name}?`)) return;\n\n    noteService\n      .deletePerson(person.id)\n      .then(() => {\n        const arrayWithoutDeletedPerson = persons.filter((p) => p.id !== person.id);\n        setPersons(arrayWithoutDeletedPerson);\n      });\n  }\n\n  return <p key={person.name}>{person.name} {person.number} <button onClick={handleDelete}>delete</button></p>\n}","import React from 'react';\n\nimport { SinglePerson } from './SinglePerson';\n\nexport const Persons = ({ persons, setPersons }) => {\n  return (\n    <>\n      {persons.map((person) => (\n        <SinglePerson setPersons={setPersons} key={person.id} person={person} persons={persons}/>\n      ))}\n    </>\n  )\n}","import React from 'react';\n\nexport const Notification = ({ message }) => {\n  \n  if (!message) return null;\n\n  return (\n    <div className={message.positive ? 'positive' : 'error'}>\n      {message.content}\n    </div>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport noteService from './services/notes';\n\nimport { Form } from './components/Form';\nimport { Filter } from './components/Filter';\nimport { Persons } from './components/Persons';\nimport { Notification } from './components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]); \n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filterName, setFilterName ] = useState('');\n  const [ message, setMessage ] = useState(null);\n\n  useEffect(() => {\n    noteService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  },[]);\n\n  const reloadPersons = () => {\n    noteService\n      .getAll()\n      .then(reloadedPersons => {\n        setPersons(reloadedPersons)\n      })\n  }\n\n  const sendMessage = (content, positive) => {\n    setMessage({\n      content,\n      positive\n    })\n\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const userAlreadyExists = (user) => user.length;\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const user = persons.filter((person) => person.name.toLowerCase() === newName.toLowerCase());\n\n    if (userAlreadyExists(user)) {\n      if (!window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) return;\n      \n      const newUser = user[0]; \n      const newUserObject = {...newUser, number: newNumber}; \n\n      noteService\n        .update(newUser.id, newUserObject)\n        .then(response => {\n          sendMessage(`Updated ${newUser.name}'s number`, true);\n          reloadPersons();\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((e) => {\n          sendMessage(`Information of ${newUser.name} has already been removed from server`, false);\n          console.log(e);\n        });\n\n      return;\n    }\n\n    noteService\n      .create({name : newName, number: newNumber})\n      .then(newPersons => {\n        sendMessage(`Added ${newName}`, true);\n        setPersons(newPersons);\n      })\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n\n  const handleFilter = (event) => setFilterName(event.target.value);\n\n  const personsToShow = filterName\n    ? persons.filter((person) => person.name.toLowerCase().includes(filterName.toLowerCase()))\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter handler={handleFilter} value={filterName}/>\n      \n      <h2>Add a new</h2>\n\n      <Form \n        formHandler={handleSubmit}\n        nameHandler={handleNameChange}\n        nameValue={newName}\n        numberHandler={handleNumberChange}\n        numberValue={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons setPersons={setPersons} persons={personsToShow} />\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}